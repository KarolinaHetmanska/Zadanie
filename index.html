<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css">
  <title>Zadanie domowe</title>

</head>
<body>
<form class="files-select-form">
  <label for="files-select-input" class="file-choose-label">Wstaw zdjęcie </label>
  <input type="file" id="files-select-input" multiple accept="image/*" style="display: none"
         onchange="addingFiles(files)">


  <div id="display-files-place">
  </div>
</form>
<script type="text/javascript">

  var
    displayFilesPlace = document.getElementById("display-files-place");

  function addingFiles(files) {
    if (!files.length) {
      displayFilesPlace.innerHTML = "<p>Nie wybrałeś żadnego zdjęcia</p>";
    } else {
      displayFilesPlace.innerHTML = "";
      var displayFilesList = document.createElement("ul");
      displayFilesList.classList.add("display-files-list");
      displayFilesPlace.appendChild(displayFilesList);
      for (var i = 0; i < files.length; i += 1) {
        var filesListItem = document.createElement("li");
        filesListItem.classList.add("files-list-item")
        displayFilesList.appendChild(filesListItem);

        var selectedImgHolder = document.createElement("div");
        selectedImgHolder.classList.add("selected-img-holder")
        var selectedImg = document.createElement("img");
        selectedImg.src = window.URL.createObjectURL(files[i]);
        selectedImg.classList.add("selected-img")
        selectedImg.onload = function () {
          window.URL.revokeObjectURL(this.src);
        }
        selectedImgHolder.appendChild(selectedImg)
        filesListItem.appendChild(selectedImgHolder);

        var changePictureLabel = document.createElement("label");
        changePictureLabel.textContent = "ZMIEŃ ZDJĘCIE";
        changePictureLabel.classList.add("change-picture-label");
        changePictureLabel.setAttribute("for", "files-select-input")
        filesListItem.appendChild(changePictureLabel);

        var removePictureLabel = document.createElement("label");
        removePictureLabel.textContent = "USUŃ ZDJĘCIE";
        removePictureLabel.classList.add("remove-picture-label");
        filesListItem.appendChild(removePictureLabel);
        removePictureLabel.addEventListener("click", function () {
          removingPicture(selectedImgHolder)
        }, false)
      }
    }
  function removingPicture(selectedImgHolder) {
    filesListItem.removeChild(selectedImgHolder);
    displayFilesPlace.textContent = "Usunięto element"
    }
  }

</script>
</body>
</html>